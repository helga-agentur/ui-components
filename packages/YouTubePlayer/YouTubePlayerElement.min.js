!function(){"use strict";var e=(e,t,{transform:s=(e=>e),validate:i=(()=>!0),expectation:o="(expectation not provided)"}={})=>{const n=e.getAttribute(t),a=s(n);if(!i(a))throw new Error(`Expected attribute ${t} of element ${e.outerHTML} to be ${o}; got ${a} instead (${n} before the transform function was applied).`);return a},t=(e,t,s)=>(e.addEventListener(t,s),()=>e.removeEventListener(t,s));class s extends HTMLElement{#e;#t;#s;#i;#o;#n;player;#a;#r;constructor(){super(),this.#d(),this.#l()}connectedCallback(){this.#e=t(this,"mouseenter",this.#u.bind(this)),this.#t=t(this,"click",this.#c.bind(this))}disconnectedCallback(){this.#e(),this.#t()}#d(){this.#o=e(this,"data-video-id",{validate:e=>!!e,expectation:"a non-empty string"}),this.#i=e(this,"data-player-variables",{transform:e=>JSON.parse(e)}),this.#s=e(this,"data-loading-class-name"),this.#n=e(this,"data-use-cookies",{transform:e=>null!==e})}#l(){this.player=new Promise((e=>{this.#a=e}))}#c(e){e.preventDefault(),e.stopPropagation(),this.#h(),this.#p()}#u(){return this.#r||(this.#r=(async()=>{const e="https://www.youtube.com/iframe_api";if(window.YT&&window.YT.Player&&"function"==typeof window.YT.Player)return Promise.resolve(window.YT.Player);if(!document.querySelector(`script[src="${e}"]`)){const t=document.createElement("script");t.setAttribute("src",e),document.body.appendChild(t)}return new Promise((e=>{window.onYouTubeIframeAPIReady=()=>e(window.YT.Player)}))})()),this.#r}#y(){return`https://www.youtube${this.#n?"":"-nocookie"}.com`}async#p(){const e=await this.#u();this.#h(!0);const t=new e(this.querySelector("div"),{playerVars:this.#i,videoId:this.#o,host:this.#y(),events:{onReady:({target:e})=>e.playVideo()}});this.#a(t)}#h(e=!1){e?(this.innerHTML="<div></div>",this.classList.remove(this.#s)):this.classList.add(this.#s)}}window.customElements.get("youtube-player-component")||window.customElements.define("youtube-player-component",s)}();
